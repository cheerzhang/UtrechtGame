<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#0c1328" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Utrecht Time Echo — 原型</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icons/icon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="icons/icon.svg" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header class="top">
      <div>
        <div class="eyebrow">Utrecht Time Echo</div>
        <h1>过去与现代 · 时间回响</h1>
        <div class="subtitle">协作推演 · 双时间线同步 · 钟声触发胜利</div>
      </div>
      <div class="status" id="status">加载中…</div>
    </header>

    <div class="controls-layout mobile-view" data-mobile-view="play">
      <section class="panel control-panel" id="playerSetupPanel">
        <h2>玩家设置</h2>
        <div class="setup-row">
          <div class="label">总玩家人数</div>
          <input class="input" id="playerCountInput" type="number" min="1" max="10" value="4" />
          <button class="btn" id="applyPlayersBtn">应用并开局</button>
          <div class="setup-hint" id="playerHint">奇数时现代组多1人。</div>
        </div>
      </section>

      <section class="panel control-panel" id="autoPanel">
        <h2>自动演示</h2>
        <div class="auto-controls">
          <div class="auto-status" id="autoStatus">已暂停</div>
          <button class="btn" id="autoToggleBtn">开始自动演示</button>
          <button class="btn ghost" id="autoResetBtn">重置并暂停</button>
        </div>
        <div class="steps" id="autoSteps">
          <div class="step" data-step="modern_pick">1 现代组选地点</div>
          <div class="step" data-step="modern_event">2 现代组抽事件</div>
          <div class="step" data-step="past_pick">3 过去组选地点</div>
          <div class="step" data-step="past_event">4 过去组抽事件</div>
        </div>
      </section>
    </div>

    <section class="panel timeline mobile-view" data-mobile-view="play">
      <div class="timeline-layout">
        <div class="dial">
          <div class="dial-ring"></div>
          <div class="dial-orb orb-modern" id="orbModern"></div>
          <div class="dial-orb orb-past" id="orbPast"></div>
          <div class="dial-center">
            <div class="marker marker-modern" id="markerModern">现代</div>
            <div class="marker marker-past" id="markerPast">过去</div>
            <div class="sync-badge" id="syncBadge">未同步</div>
          </div>
          <div class="dial-labels" id="dialLabels"></div>
        </div>
        <div class="time-track" id="timeTrack"></div>
      </div>
    </section>

    <section class="grid mobile-view" data-mobile-view="play" id="playGrid">
      <div class="panel" id="modernPanel">
        <h2>现代组</h2>
        <div class="player-status" id="modernPlayers"></div>
        <div class="row">
          <div>
            <div class="label">地点卡</div>
            <div class="card" id="modernLocation">未选择</div>
          </div>
          <div>
          <div class="label">背包</div>
          <div class="inventory" id="modernInventory"></div>
        </div>
      </div>
      <div class="actions" id="modernActions"></div>
      </div>

      <div class="panel event-spotlight-panel" id="eventSpotlightPanel">
        <h2>事件焦点</h2>
        <div class="event-cards event-cards--single" id="eventCards">
          <div class="event-card event-card--focus" id="eventFocusCard">
            <div class="event-meta">等待抽卡</div>
            <div class="event-title">尚未抽取</div>
            <div class="event-text">抽到事件后，会在这里显示最新一张。</div>
          </div>
        </div>
      </div>

      <div class="panel" id="pastPanel">
        <h2>过去组</h2>
        <div class="player-status" id="pastPlayers"></div>
        <div class="row">
          <div>
            <div class="label">地点卡</div>
            <div class="card" id="pastLocation">未选择</div>
          </div>
          <div>
          <div class="label">背包</div>
          <div class="inventory" id="pastInventory"></div>
        </div>
      </div>
      <div class="actions" id="pastActions"></div>
      </div>
    </section>

    <section class="panel mobile-view" data-mobile-view="ref">
      <h2>地点卡</h2>
      <div class="locations" id="locationList"></div>
    </section>

    <section class="panel mobile-view" data-mobile-view="log">
      <h2>事件记录</h2>
      <div class="log" id="eventLog"></div>
    </section>

    <footer class="footer">
      <button class="btn ghost" id="resetBtn">重置游戏</button>
    </footer>
  </div>
  <nav class="mobile-nav" id="mobileNav">
    <button class="mobile-tab is-active" data-view="play">对局</button>
    <button class="mobile-tab" data-view="ref">参考</button>
    <button class="mobile-tab" data-view="log">记录</button>
  </nav>

  <script src="app.js"></script>
</body>
</html>
